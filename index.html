<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Shooter Web</title>
<style>
body { margin:0; overflow:hidden; background:#111; color:white; font-family:Arial }
#hud { position:fixed; top:10px; left:10px }
button {
  position:fixed; bottom:20px;
  width:60px; height:60px;
  border-radius:50%; border:none;
  background:#444; color:white; font-size:20px;
}
#left { left:20px }
#right { left:100px }
#up { left:60px; bottom:90px }
#shoot { right:20px; background:red }
</style>
</head>
<body>

<canvas id="game"></canvas>
<div id="hud">‚ù§Ô∏è Vida: <span id="life">100</span> | üéØ Pontos: <span id="score">0</span></div>

<button id="left">‚óÄ</button>
<button id="right">‚ñ∂</button>
<button id="up">‚ñ≤</button>
<button id="shoot">üî´</button>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
canvas.width = innerWidth;
canvas.height = innerHeight;

let player = { x: canvas.width/2, y: canvas.height/2, r: 15, life:100 };
let bullets = [];
let enemies = [];
let score = 0;

function spawnEnemy(){
  enemies.push({
    x: Math.random()*canvas.width,
    y: Math.random()*canvas.height,
    r: 15
  });
}
setInterval(spawnEnemy,1000);

function shoot(){
  bullets.push({ x:player.x, y:player.y, vx:5, vy:0 });
}

document.addEventListener("keydown",e=>{
  if(e.key=="w") player.y-=10;
  if(e.key=="s") player.y+=10;
  if(e.key=="a") player.x-=10;
  if(e.key=="d") player.x+=10;
});

document.getElementById("left").onclick=()=>player.x-=20;
document.getElementById("right").onclick=()=>player.x+=20;
document.getElementById("up").onclick=()=>player.y-=20;
document.getElementById("shoot").onclick=shoot;
document.addEventListener("click",shoot);

function game(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  // Player
  ctx.beginPath();
  ctx.arc(player.x,player.y,player.r,0,Math.PI*2);
  ctx.fillStyle="cyan";
  ctx.fill();

  // Bullets
  bullets.forEach(b=>{
    b.x+=b.vx;
    ctx.fillStyle="yellow";
    ctx.fillRect(b.x,b.y,5,5);
  });

  // Enemies
  enemies.forEach((e,i)=>{
    ctx.beginPath();
    ctx.arc(e.x,e.y,e.r,0,Math.PI*2);
    ctx.fillStyle="red";
    ctx.fill();

    bullets.forEach((b,bi)=>{
      if(Math.hypot(e.x-b.x,e.y-b.y)<e.r){
        enemies.splice(i,1);
        bullets.splice(bi,1);
        score++;
        document.getElementById("score").innerText=score;
      }
    });
  });

  requestAnimationFrame(game);
}
game();
</script>
</body>
</html>
// ===== MAPA CS-STYLE (ORIGINAL) =====
const walls = [
  // paredes externas
  { x: 0, y: 0, w: 1200, h: 20 },
  { x: 0, y: 580, w: 1200, h: 20 },
  { x: 0, y: 0, w: 20, h: 600 },
  { x: 1180, y: 0, w: 20, h: 600 },

  // blocos centrais (cover)
  { x: 500, y: 200, w: 200, h: 40 },
  { x: 500, y: 360, w: 200, h: 40 },

  // corredores laterais
  { x: 250, y: 120, w: 40, h: 360 },
  { x: 910, y: 120, w: 40, h: 360 },

  // paredes internas
  { x: 350, y: 100, w: 300, h: 30 },
  { x: 550, y: 470, w: 300, h: 30 }
];

// ===== FUN√á√ÉO DE COLIS√ÉO =====
function collides(x, y, size) {
  for (let w of walls) {
    if (
      x < w.x + w.w &&
      x + size > w.x &&
      y < w.y + w.h &&
      y + size > w.y
    ) {
      return true;
    }
  }
  return false;
}