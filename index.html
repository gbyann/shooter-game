<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>FPS Arena CS</title>
<style>
body{margin:0;overflow:hidden;background:#87a7b3;}
#hud{
  position:fixed;top:10px;left:10px;
  font-family:Arial;font-size:18px;color:#000;
}
#cross{position:fixed;top:50%;left:50%;
transform:translate(-50%,-50%);font-size:26px;}
#fire{
  position:fixed;bottom:40px;right:40px;
  width:80px;height:80px;border-radius:50%;
  background:#b00000;color:white;font-size:24px;
}
#reload{
  position:fixed;bottom:140px;right:40px;
  width:80px;height:50px;
}
#joy{
  position:fixed;bottom:40px;left:40px;
  width:120px;height:120px;border-radius:50%;
  background:rgba(0,0,0,.25);
}
</style>
</head>
<body>

<div id="hud">‚ù§Ô∏è Vida: 100 | üî´ Rifle</div>
<div id="cross">+</div>
<div id="joy"></div>
<button id="fire">üî´</button>
<button id="reload">‚ü≥</button>

<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>

<script>
const scene=new THREE.Scene();
scene.background=new THREE.Color(0xbfd6df);

const camera=new THREE.PerspectiveCamera(75,innerWidth/innerHeight,0.1,1000);
camera.position.set(0,1.7,8);

const renderer=new THREE.WebGLRenderer({antialias:true});
renderer.setSize(innerWidth,innerHeight);
document.body.appendChild(renderer.domElement);

scene.add(new THREE.HemisphereLight(0xffffff,0x444444,1.2));

// ch√£o
const floor=new THREE.Mesh(
  new THREE.PlaneGeometry(60,60),
  new THREE.MeshStandardMaterial({color:0x9c9c9c})
);
floor.rotation.x=-Math.PI/2;
scene.add(floor);

// fun√ß√£o parede
function wall(x,z,w,d,h=3,color=0x5a5a5a){
  const m=new THREE.Mesh(
    new THREE.BoxGeometry(w,h,d),
    new THREE.MeshStandardMaterial({color})
  );
  m.position.set(x,h/2,z);
  scene.add(m);
}

// paredes externas
wall(0,-25,50,2);
wall(0,25,50,2);
wall(-25,0,2,50);
wall(25,0,2,50);

// arena central
wall(0,0,6,6,2.5,0x7a2e2e);

// corredores
wall(-12,0,2,20);
wall(12,0,2,20);
wall(0,-12,20,2);
wall(0,12,20,2);

// covers
wall(-6,-6,3,3,2,0x333333);
wall(6,6,3,3,2,0x333333);
wall(-6,6,3,3,2,0x333333);
wall(6,-6,3,3,2,0x333333);

// movimento
let move={x:0,z:0};
const speed=0.1;

const joy=document.getElementById("joy");
joy.addEventListener("touchmove",e=>{
  const r=joy.getBoundingClientRect();
  const x=e.touches[0].clientX-r.left-r.width/2;
  const y=e.touches[0].clientY-r.top-r.height/2;
  move.x=x/60;
  move.z=y/60;
});

// mouse
document.addEventListener("mousemove",e=>{
  camera.rotation.y-=e.movementX*0.002;
});
document.body.onclick=()=>renderer.domElement.requestPointerLock();

// loop
function loop(){
  camera.position.x+=Math.sin(camera.rotation.y)*-move.z*speed;
  camera.position.z+=Math.cos(camera.rotation.y)*-move.z*speed;
  camera.position.x+=Math.cos(camera.rotation.y)*move.x*speed;
  camera.position.z-=Math.sin(camera.rotation.y)*move.x*speed;
  renderer.render(scene,camera);
  requestAnimationFrame(loop);
}
loop();
</script>
</body>
</html>
